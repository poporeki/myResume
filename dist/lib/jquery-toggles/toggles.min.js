!function(e){function t(y){var t=e.Toggles=function(n,o){var a=this;if("boolean"==typeof o&&n.data("toggles"))n.data("toggles").toggle(o);else{for(var e="on drag click width height animate easing type checkbox".split(" "),t={},i=0;i<e.length;i++){void 0!==(p=n.data("toggle-"+e[i]))&&(t[e[i]]=p)}o=y.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,easing:"swing",checkbox:null,clicker:null,width:0,height:0,type:"compact",event:"toggle"},o||{},t),n.data("toggles",a);var g=!o.on,s="select"===o.type,l=y(o.checkbox),c=(e=o.clicker&&y(o.clicker),o.height||n.height()||20),h=o.width||n.width()||50;n.height(c),n.width(h);var f=(t=function(e){return y('<div class="toggle-'+e+'">')})("slide"),d=t("inner"),r=t("on"),u=t("off"),m=t("blob"),p=(i=h-(t=c/2),o.text);r.css({height:c,width:i,textIndent:s?"":-c/3,lineHeight:c+"px"}).html(p.on),u.css({height:c,width:i,marginLeft:s?"":-t,textIndent:s?"":c/3,lineHeight:c+"px"}).html(p.off),m.css({height:c,width:c,marginLeft:-t}),d.css({width:2*h-c,marginLeft:s?0:-h+c}),s&&(f.addClass("toggle-select"),n.css("width",2*i),m.hide()),d.append(r,m,u),f.html(d),n.html(f);var v=a.toggle=function(e,t,i){g!==e&&(g=a.active=!g,n.data("toggle-active",g),u.toggleClass("active",!g),r.toggleClass("active",g),l.prop("checked",g),i||n.trigger(o.event,g),s||(e=g?0:-h+c,d.stop().animate({marginLeft:e},t?0:o.animate,o.easing)))};t=function(e){n.hasClass("disabled")||e.target===m[0]&&o.drag||v()};if(!o.click||e&&e.has(n).length||n.on("click",t),e&&e.on("click",t),o.drag&&!s){var k,w=(h-c)/4,x=function(e){n.off("mousemove"),f.off("mouseleave"),m.off("mouseup"),!k&&o.click&&"mouseleave"!==e.type?v():(g?k<-w:w<k)?v():d.stop().animate({marginLeft:g?0:-h+c},o.animate/2,o.easing)},b=-h+c;m.on("mousedown",function(e){if(!n.hasClass("disabled")){k=0,m.off("mouseup"),f.off("mouseleave");var t=e.pageX;n.on("mousemove",m,function(e){k=e.pageX-t,g?(0<(e=k)&&(e=0),k<b&&(e=b)):(e=k+b,k<0&&(e=b),-b<k&&(e=0)),d.css("margin-left",e)}),m.on("mouseup",x),f.on("mouseleave",x)}})}v(o.on,!0,!0)}};y.fn.toggles=function(e){return this.each(function(){new t(y(this),e)})}}"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery||e.Zepto||e.ender||e.$||$)}(this);